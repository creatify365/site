---
import { Clock3, Stethoscope, UtensilsCrossed, School2 } from '@lucide/astro';


const content =  {
  headline: "The Challenge You Face: Feeling Left Behind Online?",
  paragraph1: "You pour your heart into your local business. Whether you run a bustling bakery in Bugolobi, a trusted clinic in Kololo, a vibrant school in Ntinda, or any other dedicated service, your passion is serving your community.",
  problemStatement: {
    line1: "But let's be honest: <strong>the digital world can feel like a whole other business.</strong>",
    line2: "You know you need a strong online presence to compete, attract new customers, and build trust.",
    line3: "Yet, between managing daily operations, staff, and finances, when do you find the time to become a web designer, SEO expert, <em>and</em> a branding specialist?",
    iconName: "Clock3" // Icon representing time/complexity
  },
  coreMessage: "<strong>The truth is, you don't have to.</strong>",
  missedOpportunities: {
    intro: "You're not just missing out on new clients; you're losing them to competitors who <em>are</em> showing up online.",
    imagine: "Imagine these scenarios:",
    examples: [
      { text: "The family looking for a new dentist in their neighborhood...", iconName: "Stethoscope" },
      { text: "The tourist searching for a unique local restaurant experience...", iconName: "UtensilsCrossed" },
      { text: "The parent needing a reputable school for their child...", iconName: "School2" }
    ],
    consequence: "If they can't find you quickly and easily, they'll simply choose someone else. Every missed search is a missed opportunity, a potential customer walking into a competitor's door instead of yours.",
    reassurance: "You're busy enough already; you don't need the added stress of feeling left behind in the digital race."
  }
};

// Map icon names to their imported components
const lucideIconComponents = {
  Clock3: Clock3,
  Stethoscope: Stethoscope,
  UtensilsCrossed: UtensilsCrossed,
  School2: School2
};
---
<section id="challenge" class="py-16 md:py-24 bg-slate-50">
  <div class="container mx-auto px-6">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-6">
        {content.headline}
      </h2>
    </div>
    <div class="max-w-3xl mx-auto space-y-8 text-gray-700 text-lg leading-relaxed">
      <p set:html={content.paragraph1} />

      <!-- Visually distinct block for the core problem statement -->
      <div class="bg-white p-6 rounded-lg shadow-md space-y-4 border border-slate-200">
        <div class="flex items-start space-x-3">
          {content.problemStatement.iconName && lucideIconComponents[content.problemStatement.iconName] && (
            <div class="flex-shrink-0 mt-1 text-indigo-600">
              <svelte:component this={lucideIconComponents[content.problemStatement.iconName]} class="h-7 w-7" stroke-width="2" />
            </div>
          )}
          <p class="flex-grow" set:html={content.problemStatement.line1} />
        </div>
        <p set:html={content.problemStatement.line2} />
        <p set:html={content.problemStatement.line3} />
      </div>

      <!-- Prominent core message -->
      <p class="text-xl md:text-2xl font-bold text-indigo-700 my-8 md:my-10 text-center" set:html={content.coreMessage} />

      <!-- Section for missed opportunities -->
      <div class="space-y-4">
        <p set:html={content.missedOpportunities.intro} />
        <h3 class="text-xl font-semibold text-gray-800 pt-2">{content.missedOpportunities.imagine}</h3>
        <ul class="space-y-3 pl-2">
          {content.missedOpportunities.examples.map(example => {
            const IconComponent = lucideIconComponents[example.iconName];
            return (
              <li class="flex items-start space-x-3">
                {IconComponent && (
                  <div class="flex-shrink-0 mt-1 text-indigo-600">
                    <IconComponent class="h-6 w-6" stroke-width="2" />
                  </div>
                )}
                <span class="text-gray-700" set:html={example.text} />
              </li>
            );
          })}
        </ul>
        <p set:html={content.missedOpportunities.consequence} />
        <p set:html={content.missedOpportunities.reassurance} />
      </div>
    </div>
  </div>
</section>